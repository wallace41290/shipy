<shipy-search-filters
  [ports]="selectedPorts"
  (portsChange)="updatePort($event)"
></shipy-search-filters>
<table
  mat-table
  [dataSource]="
    (searchResponse$ | async)?.data?.cruiseSearch?.results?.cruises || []
  "
  class="mat-elevation-z8"
>
  <ng-container matColumnDef="ship">
    <th mat-header-cell *matHeaderCellDef>Ship</th>
    <td mat-cell *matCellDef="let cruise">
      {{ cruise.masterSailing.itinerary.ship.name }}
    </td>
  </ng-container>

  <ng-container matColumnDef="numNights">
    <th mat-header-cell *matHeaderCellDef># Nights</th>
    <td mat-cell *matCellDef="let cruise">
      {{ cruise.masterSailing.itinerary.sailingNights }}
    </td>
  </ng-container>

  <ng-container matColumnDef="sailDate">
    <th mat-header-cell *matHeaderCellDef>Sail Date</th>
    <td mat-cell *matCellDef="let cruise">
      {{ cruise.lowestPriceSailing.sailDate }}
    </td>
  </ng-container>

  <ng-container matColumnDef="stateroom">
    <th mat-header-cell *matHeaderCellDef>Stateroom</th>
    <td mat-cell *matCellDef="let cruise">
      {{
        cruise.lowestPriceSailing.lowestStateroomClassPrice.stateroomClass.id
      }}
    </td>
  </ng-container>

  <ng-container matColumnDef="avgPrice">
    <th mat-header-cell *matHeaderCellDef>Avg. Price Per Person</th>
    <td mat-cell *matCellDef="let cruise">
      ${{ cruise.lowestPriceSailing.lowestStateroomClassPrice.price.value }}
    </td>
  </ng-container>

  <ng-container matColumnDef="taxes">
    <th mat-header-cell *matHeaderCellDef>Taxes</th>
    <td mat-cell *matCellDef="let cruise">
      ${{ cruise.lowestPriceSailing.taxesAndFees.value }}
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>
